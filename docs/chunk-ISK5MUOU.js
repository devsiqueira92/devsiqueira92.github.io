import{a as ne}from"./chunk-P4XV5CRJ.js";import{a as Fe,b as z}from"./chunk-XFHPKHEX.js";import"./chunk-ZTOGYWYL.js";import{f as Ne}from"./chunk-X54N24P5.js";import{a as Oe,b as K}from"./chunk-PTSAOYKG.js";import{a as J}from"./chunk-CINU5K47.js";import{a as oe}from"./chunk-QNZACBAH.js";import{a as ke,b as je,c as Ge}from"./chunk-AHXRCAIK.js";import{c as we}from"./chunk-OODKOV54.js";import{d as _e}from"./chunk-WD5VY4T7.js";import{c as Q,d as X,e as Y,f as Z,g as ee,h as te,i as ie}from"./chunk-D2AZ353P.js";import"./chunk-BSQ6U4BJ.js";import{g as f}from"./chunk-TJILR2F7.js";import"./chunk-UI35TYXD.js";import{a as Te}from"./chunk-ZEZPYCEL.js";import{a as Ee}from"./chunk-OEIBICTY.js";import{$a as M,B as fe,Bb as N,D as ue,F as ae,Fb as H,Ga as a,Ha as r,Ia as d,J as pe,Ja as G,Ka as L,Kb as O,Kc as W,Lc as q,Ma as ye,Mb as be,Nb as V,O as I,Pa as $,Qb as U,R as D,Ra as x,Rb as S,S as he,U as v,Wb as k,Xc as Me,Yb as Se,Z as ve,Zb as ze,_ as ge,_b as F,a as re,ab as c,ac as Ie,bb as g,cb as y,cc as De,eb as C,fb as P,fc as xe,ib as b,jb as E,jd as Pe,ka as o,kb as A,la as l,lb as Ce,n as j,p as de,qb as R,rb as _,sa as h,ua as s,xb as T,yb as B}from"./chunk-PDW7X3UQ.js";function Ke(i,e){if(i&1&&(a(0,"tr")(1,"td"),c(2),r(),a(3,"td"),c(4),r(),a(5,"td"),c(6),b(7,"date"),r(),a(8,"td",6),d(9,"span",7)(10,"nz-divider",8)(11,"span",9),r()()),i&2){let m=e.$implicit,t=x(2);o(2),g(m.name),o(2),g(m.contact),o(2),g(A(7,5,t.asDate(m.birthDate),"dd/MM/yyyy")),o(3),s("routerLink","edit/"+m.id),o(2),s("routerLink","history/"+m.id)}}var Qe=()=>({y:"740px"}),Xe=()=>({x:"900px"});function Ye(i,e){if(i&1&&(G(0),a(1,"nz-table",2,3)(3,"thead")(4,"tr")(5,"th"),c(6,"Nome"),r(),a(7,"th"),c(8,"Telefone"),r(),a(9,"th"),c(10,"Data de nascimento"),r(),d(11,"th",4),r()(),a(12,"tbody"),h(13,Ke,12,8,"tr",5),r()(),L()),i&2){let m=e.ngIf,t=M(2);o(),s("nzData",m)("nzScroll",P(4,Qe))("nzScroll",P(5,Xe)),o(12),s("ngForOf",t.data)}}var $e=(()=>{let e=class e{constructor(t){this.patientsService=t}ngOnInit(){this.listOfData$=this.patientsService.getList()}asDate(t){return new Date(t)}};e.\u0275fac=function(n){return new(n||e)(l(z))},e.\u0275cmp=v({type:e,selectors:[["ng-component"]],standalone:!0,features:[C],decls:3,vars:3,consts:[["label","Novo Paciente","icon","plus","path","create"],[4,"ngIf"],[3,"nzData","nzScroll"],["basicTable",""],["nzWidth","180px"],[4,"ngFor","ngForOf"],[1,"actions"],["nz-icon","","nzType","edit","nzTheme","outline",1,"edit",3,"routerLink"],["nzType","vertical"],["nz-icon","","nzType","history","nzTheme","outline",3,"routerLink"]],template:function(n,p){n&1&&(d(0,"app-link-button",0),h(1,Ye,14,6,"ng-container",1),b(2,"async")),n&2&&(o(),s("ngIf",E(2,1,p.listOfData$)))},dependencies:[N,R,_,T,B,U,V,ie,Z,Q,X,te,Y,ee,K,Oe,J,q,W],styles:["[_nghost-%COMP%]   app-link-button[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}"]});let i=e;return i})();var Ae=(()=>{let e=class e{constructor(t){this.patientService=t}buildForm(t){let{mode:n,patientId:p}=t,u;switch(n){case f.create:u=j({mode:n});break;case f.edit:case f.view:u=this.buildEditForm(n,p);break;default:throw new Error(`Data mode is not recognized: ${n}`)}return u}buildEditForm(t,n){return this.patientService.getById(n).pipe(fe(1),de(p=>({patient:p,mode:t})))}};e.\u0275fac=function(n){return new(n||e)(D(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ce=(i,e,m=he(Ae))=>{let t=i.data.mode;return t===f.edit||t===f.view?m.buildForm({patientId:i.paramMap.get("id"),mode:t}).pipe(ae()):m.buildForm({mode:t}).pipe(ae())};var Re=(()=>{let e=class e{constructor(t){this.httpClient=t}add(t){return this.httpClient.post(`${S.baseUrl}/clinic-patient/add-patient`,t)}addExisting(t){return this.httpClient.post(`${S.baseUrl}/clinic-patient/add-existing-patient`,{patientId:t.id})}getList(){return this.httpClient.get(`${S.baseUrl}/clinic-patient/`,{params:{pageSize:100}})}};e.\u0275fac=function(n){return new(n||e)(D(H))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Be=(()=>{let e=class e{constructor(t){this.httpClient=t}add(t){return this.httpClient.post(`${S.baseUrl}/professional-patient/add-patient`,t)}addExisting(t){return this.httpClient.post(`${S.baseUrl}/professional-patient/add-existing-patient`,{professionalId:t.id})}getList(){return this.httpClient.get(`${S.baseUrl}/professional-patient/`,{params:{pageSize:100}})}};e.\u0275fac=function(n){return new(n||e)(D(H))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function it(i,e){i&1&&(a(0,"h3"),c(1,"Novo paciente"),r())}function nt(i,e){i&1&&(a(0,"h3"),c(1,"Editar paciente"),r())}function ot(i,e){if(i&1&&d(0,"app-input",8),i&2){let m=x();s("placeholder","Id")("parentForm",m.formGroup)}}var le=(()=>{let e=class e{constructor(t,n,p,u,Ue,We){this.route=t,this.patientService=n,this.clinicPatientService=p,this.professionalPatientService=u,this.authenticationService=Ue,this.router=We}ngOnInit(){let t=this.route.snapshot.data.formData;if(this.mode=this.route.snapshot.data.mode,console.log(t),this.formGroup=new ze({id:new F({value:null,disabled:this.mode===f.edit}),name:new F({value:null,disabled:!1},[k.required]),contact:new F({value:null,disabled:!1},[k.required]),birthDate:new F({value:null,disabled:!1},[k.required]),identificationNumber:new F({value:null,disabled:!1},[k.required])}),t.mode===f.view||t.mode===f.edit){let n=re({},t.patient);this.formGroup.patchValue(re({},n))}}submit(){let t=this.formGroup.getRawValue(),n=t.birthDate;t.birthDate=new Date(n).toISOString().substring(0,10),t.id===null?this.authenticationService.token$.pipe(pe(p=>j(p.accType)),pe(p=>p==="Clinic"?this.clinicPatientService.add(t):this.professionalPatientService.add(t))).subscribe(()=>this.router.navigate(["/patients"])):this.patientService.update(t).subscribe(()=>this.router.navigate(["/patients"]))}back(){this.router.navigate(["/patients"])}};e.\u0275fac=function(n){return new(n||e)(l(O),l(z),l(Re),l(Be),l(_e),l(be))},e.\u0275cmp=v({type:e,selectors:[["ng-component"]],standalone:!0,features:[C],decls:11,vars:13,consts:[[4,"ngIf"],["nz-form","",3,"formGroup"],["controlName","id","type","text",3,"placeholder","parentForm",4,"ngIf"],["controlName","name","type","text",3,"placeholder","parentForm"],["controlName","contact","type","text",3,"placeholder","parentForm"],["controlName","identificationNumber","type","text",3,"placeholder","parentForm"],["controlName","birthDate","type","text",3,"placeholder","parentForm"],[3,"disabled","submit","back"],["controlName","id","type","text",3,"placeholder","parentForm"]],template:function(n,p){n&1&&(a(0,"section")(1,"header"),h(2,it,2,0,"h3",0)(3,nt,2,0,"h3",0),r(),a(4,"form",1),h(5,ot,1,2,"app-input",2),d(6,"app-input",3)(7,"app-input",4)(8,"app-input",5)(9,"app-date-picker",6),a(10,"app-back-submit-panel",7),$("submit",function(){return p.submit()})("back",function(){return p.back()}),r()()()),n&2&&(o(2),s("ngIf",p.mode==="create"),o(),s("ngIf",p.mode==="edit"),o(),s("formGroup",p.formGroup),o(),s("ngIf",p.mode==="edit"),o(),s("placeholder","Name")("parentForm",p.formGroup),o(),s("placeholder","Contato")("parentForm",p.formGroup),o(),s("placeholder","N\xFAmero do documento")("parentForm",p.formGroup),o(),s("placeholder","Data de nascimento")("parentForm",p.formGroup),o(),s("disabled",!p.formGroup.valid||(p.formGroup.controls.isSubmitting==null?null:p.formGroup.controls.isSubmitting.value)===!0))},dependencies:[xe,Ie,Se,De,Ee,_,Te,Ne]});let i=e;return i})();function pt(i,e){if(i&1&&(a(0,"tr")(1,"td"),c(2),r(),a(3,"td"),c(4),b(5,"date"),r(),a(6,"td"),c(7),r(),a(8,"td",8),d(9,"span",9),r()()),i&2){let m=e.$implicit;o(2),g(m.professionalName),o(2),g(A(5,4,m.date,"dd-MM-yyyy")),o(3),g(m.evolution),o(2),s("routerLink","/medical-appointments/view/"+m.schedulingId)}}var mt=()=>({y:"740px"}),st=()=>({x:"900px"});function ct(i,e){if(i&1&&(a(0,"div")(1,"h3"),c(2,"Hist\xF3rico de consultas"),r(),a(3,"div",1),d(4,"span",2),a(5,"h4"),c(6),r()(),a(7,"nz-table",3,4)(9,"thead")(10,"tr")(11,"th"),c(12,"Profissional"),r(),a(13,"th"),c(14,"Data"),r(),a(15,"th"),c(16,"Evolu\xE7\xE3o"),r(),d(17,"th",5),r()(),a(18,"tbody"),h(19,pt,10,7,"tr",6),r()(),d(20,"app-link-button",7),r()),i&2){let m=e.ngIf,t=M(8);o(6),y("Paciente: ",m[0].patientName,""),o(),s("nzData",m)("nzScroll",P(5,mt))("nzScroll",P(6,st)),o(12),s("ngForOf",t.data)}}var He=(()=>{let e=class e{constructor(t,n,p,u){this.route=t,this.patientService=n,this.medicalAppointmentService=p,this.drawerService=u,this.visible=!1}ngOnInit(){let t=this.route.snapshot.params.id;this.history$=this.medicalAppointmentService.getPatientHistoricList(t)}open(){this.drawerService.visibleDrawer=!0}close(){this.drawerService.close()}getWidthScreen(){return window.innerWidth<990?window.innerWidth:675}};e.\u0275fac=function(n){return new(n||e)(l(O),l(z),l(ne),l(oe))},e.\u0275cmp=v({type:e,selectors:[["ng-component"]],standalone:!0,features:[C],decls:2,vars:3,consts:[[4,"ngIf"],[1,"patient-info"],["nz-icon","","nzType","user","nzTheme","outline"],[3,"nzData","nzScroll"],["basicTable",""],["nzWidth","180px"],[4,"ngFor","ngForOf"],["path","/patients","label","Voltar","type","secondary"],[1,"actions"],["nz-icon","","nzType","arrow-right","nzTheme","outline",3,"routerLink"]],template:function(n,p){n&1&&(h(0,ct,21,7,"div",0),b(1,"async")),n&2&&s("ngIf",E(1,1,p.history$))},dependencies:[N,R,_,T,B,q,W,J,K,U,V,Pe,we,ie,Z,Q,X,te,Y,ee],styles:["[_nghost-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .history[_ngcontent-%COMP%]{border:1px solid #b4b6c3;margin-bottom:1rem;padding:1rem .5rem;border-radius:4px}[_nghost-%COMP%]   .history.active[_ngcontent-%COMP%]{border-color:#1890ff}[_nghost-%COMP%]   .patient-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin:1rem 0;cursor:pointer}[_nghost-%COMP%]   .patient-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{transition:.3s ease-in-out}[_nghost-%COMP%]   .patient-info[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .patient-info[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]{color:#1890ff}[_nghost-%COMP%]   .patient-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}[_nghost-%COMP%]   .procedure-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex}[_nghost-%COMP%]   .procedure-info[_ngcontent-%COMP%]{align-items:center;margin-left:1rem;display:flex}[_nghost-%COMP%]   .procedure-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}[_nghost-%COMP%]   .see-details[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}"]});let i=e;return i})();function lt(i,e){i&1&&d(0,"app-loading")}function dt(i,e){if(i&1){let m=ye();G(0),a(1,"nz-descriptions",2)(2,"nz-descriptions-item",3),c(3),r(),a(4,"nz-descriptions-item",4),c(5),r(),a(6,"nz-descriptions-item",5),c(7),r(),a(8,"nz-descriptions-item",6),c(9),r(),a(10,"nz-descriptions-item",7),c(11),r()(),a(12,"app-button",8),$("click",function(){ve(m);let n=x();return ge(n.close())}),r(),L()}if(i&2){let m=e.ngIf;o(3),y(" ",m.bpm," "),o(2),y(" ",m.bloodPressure," "),o(2),y(" ",m.bloodOxygenation," "),o(),s("nzSpan",3),o(),y(" ",m.details," "),o(),s("nzSpan",3),o(),y(" ",m.evolution," ")}}var Ve=(()=>{let e=class e{constructor(t,n,p){this.route=t,this.medicalAppointmentService=n,this.drawerService=p}ngOnInit(){this.route.params.subscribe(t=>{this.appointmentDetails$=this.medicalAppointmentService.getById(t.id).pipe(ue(700))})}close(){this.drawerService.close()}};e.\u0275fac=function(n){return new(n||e)(l(O),l(ne),l(oe))},e.\u0275cmp=v({type:e,selectors:[["ng-component"]],standalone:!0,features:[C],decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],["nzTitle","Detalhes","nzLayout","vertical"],["nzTitle","Batimentos por minuto"],["nzTitle","Press\xE3o arterial"],["nzTitle","Oxigena\xE7\xE3o sanguinea"],["nzTitle","Detalhes",3,"nzSpan"],["nzTitle","Evolu\xE7\xE3o",3,"nzSpan"],["label","Fechar","type","secondary",3,"click"]],template:function(n,p){if(n&1&&(h(0,lt,1,0,"ng-template",null,0,Ce)(2,dt,13,7,"ng-container",1),b(3,"async")),n&2){let u=M(1);o(2),s("ngIf",E(3,2,p.appointmentDetails$))("ngIfElse",u)}},dependencies:[N,_,T,Ge,je,ke,Me,Fe]});let i=e;return i})();var di=[{path:"",component:$e},{path:"edit/:id",component:le,resolve:{formData:ce},data:{mode:f.edit}},{path:"create",component:le,resolve:{formData:ce},data:{mode:f.create}},{path:"history/:id",component:He,children:[{path:"detail/:id",component:Ve}]}];export{di as PATIENTS_ROUTES};
