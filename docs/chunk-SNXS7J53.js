import{a as v}from"./chunk-A4IDTQ7X.js";import{a as he,b as s,c as ve}from"./chunk-YWNLVJYF.js";import"./chunk-4LRCULV4.js";import"./chunk-PMFQ2YN4.js";import{a as me,b as le,c as de,d as se,e as ce,f as ue,g as fe}from"./chunk-U2I65ZW3.js";import"./chunk-CVGLXEUG.js";import{a as ae,b as pe}from"./chunk-L36BLO6X.js";import{a as N}from"./chunk-RRYEWEV6.js";import{Na as F,Qa as te,Sa as ie,Ta as _,Va as ne,Xa as oe,_a as re,e as x,g as Q,h as X,k as Y,la as Z,ma as ee}from"./chunk-BUBXGMRK.js";import{Jb as a,Kb as p,Lb as c,M as B,Mb as H,Nb as V,Pc as I,Qc as b,R as E,Tb as q,Vb as U,Wc as P,Xc as K,Zc as M,a as z,cc as W,dc as d,ec as h,fa as L,hb as r,hc as y,ib as u,ic as O,ka as $,la as A,mc as S,nc as D,oa as g,oc as J,r as j,ub as f,v as R,wb as l}from"./chunk-HUG7J4BS.js";function Se(i,e){if(i&1&&(a(0,"tr")(1,"td"),d(2),p(),a(3,"td"),d(4),p(),a(5,"td"),d(6),p(),a(7,"td"),d(8),p(),a(9,"td")(10,"a",6),d(11,"Editar"),p(),c(12,"nz-divider",7),a(13,"a",6),d(14,"Hist\xF3rico"),p()()()),i&2){let m=e.$implicit;r(2),h(m.name),r(2),h(m.phone),r(2),h(m.address),r(2),h(m.birthDate),r(2),l("routerLink","edit/"+m.id),r(3),l("routerLink","history/"+m.id)}}var Fe=()=>({y:"740px"}),De=()=>({x:"900px"});function Ie(i,e){if(i&1&&(H(0),a(1,"nz-table",2,3)(3,"thead")(4,"tr")(5,"th"),d(6,"Name"),p(),a(7,"th"),d(8,"Phone"),p(),a(9,"th"),d(10,"Address"),p(),a(11,"th"),d(12,"birthDate"),p(),c(13,"th",4),p()(),a(14,"tbody"),f(15,Se,15,6,"tr",5),p()(),V()),i&2){let m=e.ngIf,t=W(2);r(),l("nzData",m)("nzScroll",O(4,Fe))("nzScroll",O(5,De)),r(14),l("ngForOf",t.data)}}var ye=(()=>{let e=class e{constructor(t){this.patientsService=t}ngOnInit(){this.listOfData$=this.patientsService.getList()}};e.\u0275fac=function(n){return new(n||e)(u(v))},e.\u0275cmp=g({type:e,selectors:[["ng-component"]],standalone:!0,features:[y],decls:3,vars:3,consts:[["label","Novo Paciente","icon","plus","path","create"],[4,"ngIf"],[3,"nzData","nzScroll"],["basicTable",""],["nzWidth","180px"],[4,"ngFor","ngForOf"],[3,"routerLink"],["nzType","vertical"]],template:function(n,o){n&1&&(c(0,"app-link-button",0),f(1,Ie,16,6,"ng-container",1),S(2,"async")),n&2&&(r(),l("ngIf",D(2,1,o.listOfData$)))},dependencies:[M,I,b,P,Y,X,fe,se,me,le,ue,de,ce,pe,ae,N],styles:["[_nghost-%COMP%]   app-link-button[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}"]});let i=e;return i})();var be=(()=>{let e=class e{constructor(t){this.patientService=t}buildForm(t){let{mode:n,patientId:o}=t,C;switch(n){case s.create:C=j({mode:n});break;case s.edit:case s.view:C=this.buildEditForm(n,o);break;default:throw new Error(`Data mode is not recognized: ${n}`)}return C}buildEditForm(t,n){return this.patientService.getById(n).pipe(B(1),R(o=>({patient:o,mode:t})))}};e.\u0275fac=function(n){return new(n||e)($(v))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var w=(i,e,m=A(be))=>{let t=i.data.mode;return t===s.edit||t===s.view?m.buildForm({patientId:i.paramMap.get("id"),mode:t}).pipe(E()):m.buildForm({mode:t}).pipe(E())};function Pe(i,e){if(i&1&&c(0,"app-input",7),i&2){let m=U();l("placeholder","Id")("parentForm",m.formGroup)}}var G=(()=>{let e=class e{constructor(t,n,o){this.route=t,this.patientService=n,this.router=o}ngOnInit(){let t=this.route.snapshot.data.formData;if(this.mode=this.route.snapshot.data.mode,console.log(t),this.formGroup=new ie({id:new _({value:null,disabled:this.mode===s.edit}),name:new _({value:null,disabled:!1},[F.required]),phone:new _({value:null,disabled:!1},[F.required]),address:new _({value:null,disabled:!1},[F.required]),birthDate:new _({value:null,disabled:!1},[F.required])}),t.mode===s.view||t.mode===s.edit){let n=z({},t.patient);this.formGroup.patchValue(z({},n))}}submit(){let t=this.formGroup.getRawValue();t.id===null?this.patientService.add(t):this.patientService.update(t),this.router.navigate(["/patients"])}back(){this.router.navigate(["/patients"])}};e.\u0275fac=function(n){return new(n||e)(u(x),u(v),u(Q))},e.\u0275cmp=g({type:e,selectors:[["ng-component"]],standalone:!0,features:[y],decls:7,vars:11,consts:[["nz-form","",3,"formGroup"],["controlName","id","type","text",3,"placeholder","parentForm",4,"ngIf"],["controlName","name","type","text",3,"placeholder","parentForm"],["controlName","phone","type","text",3,"placeholder","parentForm"],["controlName","address","type","text",3,"placeholder","parentForm"],["controlName","birthDate","type","text",3,"placeholder","parentForm"],[3,"disabled","submit","back"],["controlName","id","type","text",3,"placeholder","parentForm"]],template:function(n,o){n&1&&(a(0,"form",0),f(1,Pe,1,2,"app-input",1),c(2,"app-input",2)(3,"app-input",3)(4,"app-input",4)(5,"app-input",5),a(6,"app-back-submit-panel",6),q("submit",function(){return o.submit()})("back",function(){return o.back()}),p()()),n&2&&(l("formGroup",o.formGroup),r(),l("ngIf",o.mode==="edit"),r(),l("placeholder","Name")("parentForm",o.formGroup),r(),l("placeholder","Contato")("parentForm",o.formGroup),r(),l("placeholder","Endere\xE7o")("parentForm",o.formGroup),r(),l("placeholder","Data de nascimento")("parentForm",o.formGroup),r(),l("disabled",!o.formGroup.valid||(o.formGroup.controls.isSubmitting==null?null:o.formGroup.controls.isSubmitting.value)===!0))},dependencies:[re,ne,te,oe,he,b,ve]});let i=e;return i})();function Me(i,e){if(i&1&&(a(0,"div",3)(1,"div",4),c(2,"span",5),a(3,"p"),d(4),S(5,"date"),p()(),a(6,"div",4),c(7,"span",6),a(8,"p"),d(9),p()()()),i&2){let m=e.$implicit;r(4),h(J(5,2,m.date,"dd-MM-yyyy")),r(5),h(m.doctor.name)}}function xe(i,e){if(i&1&&(a(0,"div")(1,"h2"),d(2,"Hist\xF3rico de consultas do paciente"),p(),f(3,Me,10,5,"div",1),c(4,"app-link-button",2),p()),i&2){let m=e.ngIf;r(3),l("ngForOf",m)}}var _e=(()=>{let e=class e{constructor(t,n){this.route=t,this.patientService=n}ngOnInit(){let t=this.route.snapshot.params.id;this.history$=this.patientService.getScheduling(t)}};e.\u0275fac=function(n){return new(n||e)(u(x),u(v))},e.\u0275cmp=g({type:e,selectors:[["ng-component"]],standalone:!0,features:[y],decls:2,vars:3,consts:[[4,"ngIf"],["class","procedure-wrapper",4,"ngFor","ngForOf"],["path","/patients","label","Voltar","type","secondary"],[1,"procedure-wrapper"],[1,"procedure-info"],["nz-icon","","nzType","calendar","nzTheme","outline"],["nz-icon","","nzType","user","nzTheme","outline"]],template:function(n,o){n&1&&(f(0,xe,5,1,"div",0),S(1,"async")),n&2&&l("ngIf",D(1,1,o.history$))},dependencies:[M,I,b,P,K,ee,Z,N],styles:["[_nghost-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .procedure-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .procedure-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}[_nghost-%COMP%]   .procedure-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}"]});let i=e;return i})();var st=[{path:"",component:ye},{path:"edit/:id",component:G,resolve:{formData:w},data:{mode:s.edit}},{path:"create",component:G,resolve:{formData:w},data:{mode:s.create}},{path:"history/:id",component:_e}];export{st as PATIENTS_ROUTES};
