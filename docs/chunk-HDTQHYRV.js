import{a as K,b as he}from"./chunk-XN3XRWC3.js";import{a as ve,b as f}from"./chunk-ZUHBCQM6.js";import{a as ae,b as pe}from"./chunk-TZ2I6OLO.js";import{a as ie}from"./chunk-XBTFUSL4.js";import"./chunk-JTEUNUQV.js";import{c as me,d as ce,e as de,f as le,g as se,h as ue,i as fe}from"./chunk-DGKRUKTD.js";import"./chunk-EGVZZDQS.js";import{g as a}from"./chunk-N5PJMPUP.js";import"./chunk-J5WLSRWJ.js";import{a as ne}from"./chunk-LKR5L6YC.js";import{a as re}from"./chunk-EUIFX6MJ.js";import{$a as j,$b as b,B as k,Cb as q,F as z,Ga as m,Ha as c,Ia as l,Ja as w,Ka as R,Lb as U,Lc as te,Mc as oe,Nb as W,O as E,Ob as H,Pa as O,R as M,Ra as y,Rb as J,S as G,U as g,Xb as _,Zb as Q,_b as X,a as F,ab as s,bb as C,bc as Y,dc as Z,eb as D,fb as I,gc as ee,hb as B,ib as L,jb as A,ka as n,la as u,n as x,p as P,qb as V,rb as S,sa as h,ua as p,xb as $}from"./chunk-FFMU4347.js";var Se=(o,t)=>[o,t];function _e(o,t){if(o&1&&(m(0,"tr")(1,"td"),s(2),c(),m(3,"td"),s(4),c(),m(5,"td"),s(6),c(),m(7,"td",6),l(8,"span",7)(9,"nz-divider",8)(10,"span",9),c()()),o&2){let d=t.$implicit,e=y(2);n(2),C(d.name),n(2),C(d.description),n(2),C(d.member),n(2),p("routerLink","edit/"+d.id)("moduleType",B(5,Se,e.roles.Professional,e.roles.Clinic))}}var Fe=()=>({y:"740px"}),ze=()=>({x:"900px"});function Ie(o,t){if(o&1&&(w(0),m(1,"nz-table",2,3)(3,"thead")(4,"tr")(5,"th"),s(6,"Nome"),c(),m(7,"th"),s(8,"Passos"),c(),m(9,"th"),s(10,"Membro"),c(),l(11,"th",4),c()(),m(12,"tbody"),h(13,_e,11,8,"tr",5),c()(),R()),o&2){let d=t.ngIf,e=j(2);n(),p("nzData",d)("nzScroll",I(4,Fe))("nzScroll",I(5,ze)),n(12),p("ngForOf",e.data)}}var ye=(()=>{let t=class t{constructor(e){this.proceduresService=e,this.roles=K}ngOnInit(){this.listOfData$=this.proceduresService.getList()}};t.\u0275fac=function(r){return new(r||t)(u(f))},t.\u0275cmp=g({type:t,selectors:[["ng-component"]],standalone:!0,features:[D],decls:3,vars:3,consts:[["label","Novo Procedimento","icon","plus","path","create"],[4,"ngIf"],[3,"nzData","nzScroll"],["basicTable",""],["nzWidth","160px"],[4,"ngFor","ngForOf"],[1,"actions"],["nz-icon","","nzType","edit","nzTheme","outline","accessControl","",1,"edit",3,"routerLink","moduleType"],["nzType","vertical"],["nz-icon","","nzType","delete","nzTheme","outline",1,"delete"]],template:function(r,i){r&1&&(l(0,"app-link-button",0),h(1,Ie,14,6,"ng-container",1),L(2,"async")),r&2&&(n(),p("ngIf",A(2,1,i.listOfData$)))},dependencies:[q,V,S,$,J,H,fe,le,me,ce,ue,de,se,pe,ae,ie,he,oe,te]});let o=t;return o})();function Ne(o,t){if(o&1&&l(0,"app-input",6),o&2){let d=y();p("placeholder","Id")("parentForm",d.formGroup)}}var N=(()=>{let t=class t{constructor(e,r,i){this.route=e,this.procedureService=r,this.router=i}ngOnInit(){let e=this.route.snapshot.data.formData;if(this.mode=this.route.snapshot.data.mode,console.log(e),this.formGroup=new X({id:new b({value:null,disabled:this.mode===a.edit}),name:new b({value:null,disabled:!1},[_.required]),description:new b({value:null,disabled:!1},[_.required]),member:new b({value:null,disabled:!1},[_.required])}),e.mode===a.view||e.mode===a.edit){let r=F({},e.procedure);this.formGroup.patchValue(F({},r))}}submit(){let e=this.formGroup.getRawValue();e.id===null?this.procedureService.add(e).subscribe(()=>this.router.navigate(["/procedures"])):this.procedureService.update(e).subscribe(()=>this.router.navigate(["/procedures"]))}back(){this.router.navigate(["/procedures"])}};t.\u0275fac=function(r){return new(r||t)(u(U),u(f),u(W))},t.\u0275cmp=g({type:t,selectors:[["app-procedure-details"]],standalone:!0,features:[D],decls:6,vars:9,consts:[["nz-form","",3,"formGroup"],["controlName","id","type","text",3,"placeholder","parentForm",4,"ngIf"],["controlName","name","type","text",3,"placeholder","parentForm"],["controlName","member","type","text",3,"placeholder","parentForm"],["controlName","description",3,"placeholder","parentForm"],[3,"disabled","submit","back"],["controlName","id","type","text",3,"placeholder","parentForm"]],template:function(r,i){r&1&&(m(0,"form",0),h(1,Ne,1,2,"app-input",1),l(2,"app-input",2)(3,"app-input",3)(4,"app-text-area",4),m(5,"app-back-submit-panel",5),O("submit",function(){return i.submit()})("back",function(){return i.back()}),c()()),r&2&&(p("formGroup",i.formGroup),n(),p("ngIf",i.mode==="edit"),n(),p("placeholder","Name")("parentForm",i.formGroup),n(),p("placeholder","Membro")("parentForm",i.formGroup),n(),p("placeholder","Passo")("parentForm",i.formGroup),n(),p("disabled",!i.formGroup.valid||(i.formGroup.controls.isSubmitting==null?null:i.formGroup.controls.isSubmitting.value)===!0))},dependencies:[ee,Y,Q,Z,re,S,ne,ve]});let o=t;return o})();var Ce=(()=>{let t=class t{constructor(e){this.procedureService=e}buildForm(e){let{mode:r,procedureId:i}=e,v;switch(r){case a.create:v=x({mode:r});break;case a.edit:case a.view:v=this.buildEditForm(r,i);break;default:throw new Error(`Data mode is not recognized: ${r}`)}return v}buildEditForm(e,r){return this.procedureService.getById(r).pipe(k(1),P(i=>({procedure:i,mode:e})))}};t.\u0275fac=function(r){return new(r||t)(M(f))},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var T=(o,t,d=G(Ce))=>{let e=o.data.mode;return e===a.edit||e===a.view?d.buildForm({procedureId:o.paramMap.get("id"),mode:e}).pipe(z()):d.buildForm({mode:e}).pipe(z())};var dt=[{path:"",component:ye},{path:"edit/:id",component:N,resolve:{formData:T},data:{mode:a.edit}},{path:"create",component:N,resolve:{formData:T},data:{mode:a.create}}];export{dt as PROCEDURES_ROUTES};
