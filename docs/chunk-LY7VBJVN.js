import"./chunk-BYXBJQAS.js";import"./chunk-CDDB32US.js";import{a as f}from"./chunk-AL2HMJCC.js";import{a as ne,b as ae,c as pe,d as me,e as de,f as ce,g as le}from"./chunk-AS3ORRBM.js";import"./chunk-INM2M4SU.js";import{a as re,b as ie,o as a,q as se}from"./chunk-T7FN37OH.js";import{a as te}from"./chunk-5KBX55U3.js";import{Pa as _,Pb as oe,Ra as Q,Sa as X,Ta as b,Va as Y,Xa as Z,_a as ee,i as A,k as U,l as W,o as H,oa as J,pa as K}from"./chunk-U6PKPXZE.js";import{Jb as m,Kb as d,Lb as l,M as x,Mb as G,Nb as w,Oc as V,Pc as S,R as z,Tb as R,Vb as O,Vc as $,Yc as q,a as F,cc as j,dc as s,ec as y,fa as M,hb as n,hc as D,ib as u,ic as C,ka as P,la as E,lc as B,mc as L,oa as g,r as T,ub as h,v as k,wb as p}from"./chunk-MGW57YGE.js";function ge(o,t){if(o&1&&(m(0,"tr")(1,"td"),s(2),d(),m(3,"td"),s(4),d(),m(5,"td"),s(6),d(),m(7,"td",6),l(8,"span",7)(9,"nz-divider",8)(10,"span",9),d()()),o&2){let c=t.$implicit;n(2),y(c.name),n(2),y(c.steps),n(2),y(c.member),n(2),p("routerLink","edit/"+c.id)}}var ye=()=>({y:"740px"}),De=()=>({x:"900px"});function Se(o,t){if(o&1&&(G(0),m(1,"nz-table",2,3)(3,"thead")(4,"tr")(5,"th"),s(6,"Nome"),d(),m(7,"th"),s(8,"Passos"),d(),m(9,"th"),s(10,"Membro"),d(),l(11,"th",4),d()(),m(12,"tbody"),h(13,ge,11,4,"tr",5),d()(),w()),o&2){let c=t.ngIf,e=j(2);n(),p("nzData",c)("nzScroll",C(4,ye))("nzScroll",C(5,De)),n(12),p("ngForOf",e.data)}}var ve=(()=>{let t=class t{constructor(e){this.proceduresService=e}ngOnInit(){this.listOfData$=this.proceduresService.getList()}};t.\u0275fac=function(r){return new(r||t)(u(f))},t.\u0275cmp=g({type:t,selectors:[["ng-component"]],standalone:!0,features:[D],decls:3,vars:3,consts:[["label","Novo Procedimento","icon","plus","path","create"],[4,"ngIf"],[3,"nzData","nzScroll"],["basicTable",""],["nzWidth","160px"],[4,"ngFor","ngForOf"],[1,"actions"],["nz-icon","","nzType","edit","nzTheme","outline",1,"edit",3,"routerLink"],["nzType","vertical"],["nz-icon","","nzType","delete","nzTheme","outline",1,"delete"]],template:function(r,i){r&1&&(l(0,"app-link-button",0),h(1,Se,14,6,"ng-container",1),B(2,"async")),r&2&&(n(),p("ngIf",L(2,1,i.listOfData$)))},dependencies:[q,V,S,$,H,W,le,me,ne,ae,ce,pe,de,ie,re,oe,K,J]});let o=t;return o})();function _e(o,t){if(o&1&&l(0,"app-input",6),o&2){let c=O();p("placeholder","Id")("parentForm",c.formGroup)}}var I=(()=>{let t=class t{constructor(e,r,i){this.route=e,this.procedureService=r,this.router=i}ngOnInit(){let e=this.route.snapshot.data.formData;if(this.mode=this.route.snapshot.data.mode,console.log(e),this.formGroup=new X({id:new b({value:null,disabled:this.mode===a.edit}),name:new b({value:null,disabled:!1},[_.required]),steps:new b({value:null,disabled:!1},[_.required]),member:new b({value:null,disabled:!1},[_.required])}),e.mode===a.view||e.mode===a.edit){let r=F({},e.procedure);this.formGroup.patchValue(F({},r))}}submit(){let e=this.formGroup.getRawValue();e.id===null?this.procedureService.add(e):this.procedureService.update(e),this.router.navigate(["/procedures"])}back(){this.router.navigate(["/procedures"])}};t.\u0275fac=function(r){return new(r||t)(u(A),u(f),u(U))},t.\u0275cmp=g({type:t,selectors:[["app-procedure-details"]],standalone:!0,features:[D],decls:6,vars:9,consts:[["nz-form","",3,"formGroup"],["controlName","id","type","text",3,"placeholder","parentForm",4,"ngIf"],["controlName","name","type","text",3,"placeholder","parentForm"],["controlName","member","type","text",3,"placeholder","parentForm"],["controlName","steps","type","text",3,"placeholder","parentForm"],[3,"disabled","submit","back"],["controlName","id","type","text",3,"placeholder","parentForm"]],template:function(r,i){r&1&&(m(0,"form",0),h(1,_e,1,2,"app-input",1),l(2,"app-input",2)(3,"app-input",3)(4,"app-input",4),m(5,"app-back-submit-panel",5),R("submit",function(){return i.submit()})("back",function(){return i.back()}),d()()),r&2&&(p("formGroup",i.formGroup),n(),p("ngIf",i.mode==="edit"),n(),p("placeholder","Name")("parentForm",i.formGroup),n(),p("placeholder","Membro")("parentForm",i.formGroup),n(),p("placeholder","Passo")("parentForm",i.formGroup),n(),p("disabled",!i.formGroup.valid||(i.formGroup.controls.isSubmitting==null?null:i.formGroup.controls.isSubmitting.value)===!0))},dependencies:[ee,Y,Q,Z,te,S,se]});let o=t;return o})();var he=(()=>{let t=class t{constructor(e){this.procedureService=e}buildForm(e){let{mode:r,procedureId:i}=e,v;switch(r){case a.create:v=T({mode:r});break;case a.edit:case a.view:v=this.buildEditForm(r,i);break;default:throw new Error(`Data mode is not recognized: ${r}`)}return v}buildEditForm(e,r){return this.procedureService.getById(r).pipe(x(1),k(i=>({procedure:i,mode:e})))}};t.\u0275fac=function(r){return new(r||t)(P(f))},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var N=(o,t,c=E(he))=>{let e=o.data.mode;return e===a.edit||e===a.view?c.buildForm({procedureId:o.paramMap.get("id"),mode:e}).pipe(z()):c.buildForm({mode:e}).pipe(z())};var it=[{path:"",component:ve},{path:"edit/:id",component:I,resolve:{formData:N},data:{mode:a.edit,roles:["user3_token"]}},{path:"create",component:I,resolve:{formData:N},data:{mode:a.create}}];export{it as PROCEDURES_ROUTES};
