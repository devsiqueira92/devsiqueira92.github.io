import{a as ke,b as Ge}from"./chunk-TFQZ4LS3.js";import"./chunk-D7AA5DW3.js";import{a as X}from"./chunk-2ZEVGD2F.js";import{a as w}from"./chunk-P4XV5CRJ.js";import"./chunk-ZTOGYWYL.js";import{a as Ie,b as Ne}from"./chunk-67RH4XZJ.js";import{a as j,b as R}from"./chunk-PTSAOYKG.js";import"./chunk-CINU5K47.js";import{a as Ee,b as Te,c as Ae}from"./chunk-AHXRCAIK.js";import{a as De,b as Me,c as Fe}from"./chunk-OODKOV54.js";import{c as ge,d as be,e as Se,f as ye,g as Ce,h as we,i as xe}from"./chunk-D2AZ353P.js";import"./chunk-BSQ6U4BJ.js";import{g as c}from"./chunk-TJILR2F7.js";import"./chunk-UI35TYXD.js";import{a as _e}from"./chunk-ZEZPYCEL.js";import{a as ze}from"./chunk-OEIBICTY.js";import{$a as A,B as Y,Bb as V,F as J,Ga as a,Ha as p,Ia as h,J as Z,Ja as E,Ka as T,Kb as oe,Kc as B,Lc as $,Ma as D,Mb as re,Nb as ae,O as ee,Pa as C,Qb as pe,R as te,Ra as _,S as ie,U as N,Xc as ue,Yb as me,Z as S,Zb as le,_ as y,_b as z,a as q,ab as s,ac as ce,bb as M,cb as b,cc as se,eb as k,fb as d,fc as de,hd as fe,ib as g,id as ve,jb as F,jd as he,ka as r,kb as I,la as f,lb as ne,n as K,p as Q,qb as G,rb as P,sa as v,ua as m,xb as O,yb as L}from"./chunk-PDW7X3UQ.js";function Ue(t,n){if(t&1&&(a(0,"tr")(1,"td"),s(2),p(),a(3,"td"),s(4),p(),a(5,"td"),s(6),g(7,"date"),p(),a(8,"td"),s(9),p(),a(10,"td",5),h(11,"span",6)(12,"nz-divider",7)(13,"span",8),p()()),t&2){let o=n.$implicit;r(2),M(o.patientName),r(2),M(o.professionalName),r(2),M(I(7,5,o.date,"dd/MM/yyyy")),r(3),M(o.evolution),r(2),m("routerLink","edit/"+o.schedulingId)}}var qe=()=>({y:"740px"}),Je=()=>({x:"900px"});function Ke(t,n){if(t&1&&(E(0),a(1,"nz-table",1,2)(3,"thead")(4,"tr")(5,"th"),s(6,"Paciente"),p(),a(7,"th"),s(8,"Profissional"),p(),a(9,"th"),s(10,"Data"),p(),a(11,"th"),s(12,"Situa\xE7\xE3o"),p(),h(13,"th",3),p()(),a(14,"tbody"),v(15,Ue,14,8,"tr",4),p()(),T()),t&2){let o=n.ngIf,e=A(2);r(),m("nzData",o)("nzScroll",d(4,qe))("nzScroll",d(5,Je)),r(14),m("ngForOf",e.data)}}var Le=(()=>{let n=class n{constructor(e,i){this.medicalAppointmentService=e,this.schedulingService=i}ngOnInit(){this.listOfData$=this.medicalAppointmentService.getList()}};n.\u0275fac=function(i){return new(i||n)(f(w),f(X))},n.\u0275cmp=N({type:n,selectors:[["ng-component"]],standalone:!0,features:[k],decls:4,vars:3,consts:[[4,"ngIf"],[3,"nzData","nzScroll"],["basicTable",""],["nzWidth","160px"],[4,"ngFor","ngForOf"],[1,"actions"],["nz-icon","","nzType","edit","nzTheme","outline",1,"edit",3,"routerLink"],["nzType","vertical"],["nz-icon","","nzType","delete","nzTheme","outline",1,"delete"]],template:function(i,l){i&1&&(a(0,"h2"),s(1,"Hist\xF3rico de consultas"),p(),v(2,Ke,16,6,"ng-container",0),g(3,"async")),i&2&&(r(2),m("ngIf",F(3,1,l.listOfData$)))},dependencies:[V,G,P,O,L,pe,ae,xe,ye,ge,be,we,Se,Ce,R,j,$,B]});let t=n;return t})();function Qe(t,n){if(t&1&&(a(0,"div",2)(1,"nz-descriptions",18)(2,"nz-descriptions-item",19),s(3),p(),a(4,"nz-descriptions-item",20),s(5),p(),a(6,"nz-descriptions-item",21),s(7),g(8,"date"),p(),a(9,"nz-descriptions-item",22),s(10),g(11,"date"),p(),a(12,"nz-descriptions-item",23),s(13),p()()()),t&2){let o=n.ngIf;m("nzSpan",24),r(3),b(" ",o.patientName," "),r(2),b(" ",o.patientContact," "),r(2),b(" ",I(8,6,o.patientBirthDate,"dd/MM/yyyy")," "),r(3),b(" ",I(11,9,o.date,"dd/MM/yyyy hh:mm")," "),r(3),b(" ",o.professionalName," ")}}var x=()=>({span:24}),Ye=()=>({span:4});function Ze(t,n){if(t&1){let o=D();a(0,"div",24)(1,"app-button",25),C("click",function(){S(o);let i=_();return y(i.open())}),p()()}t&2&&m("nzXs",d(2,x))("nzLg",d(3,Ye))}function et(t,n){if(t&1){let o=D();a(0,"app-back-submit-panel",26),C("back",function(){S(o);let i=_();return y(i.back())})("submit",function(){S(o);let i=_();return y(i.submit())}),p()}if(t&2){let o=_();m("disabled",!o.formGroup.valid||(o.formGroup.controls.isSubmitting==null?null:o.formGroup.controls.isSubmitting.value)===!0)}}function tt(t,n){if(t&1){let o=D();a(0,"li",29),C("click",function(){let l=S(o).$implicit,u=_(2);return y(u.selectProtocol(l))}),h(1,"span",30),s(2),p()}if(t&2){let o=n.$implicit;r(2),b(" ",o.name," ")}}function it(t,n){if(t&1&&(E(0),a(1,"ul",27),v(2,tt,3,1,"li",28),g(3,"async"),p(),T()),t&2){let o=_();r(2),m("ngForOf",F(3,1,o.procedureList$))}}function nt(t,n){if(t&1){let o=D();a(0,"app-button",31),C("click",function(){S(o);let i=_();return y(i.close())}),p()}}var W=()=>({span:12}),ot=()=>({span:20}),H=(()=>{let n=class n{constructor(e,i,l,u,Be,$e){this.route=e,this.schedulingService=i,this.medicalAppointmentService=l,this.proceduresService=u,this.router=Be,this.notification=$e,this.visible=!1}ngOnInit(){let e=this.route.snapshot.data.formData,i=this.route.snapshot.paramMap.get("id");if(this.procedureList$=this.proceduresService.getList(),this.scheduling$=this.schedulingService.getById(i),this.mode=this.route.snapshot.data.mode,this.formGroup=new le({id:new z({value:null,disabled:this.mode===c.edit}),bloodOxygenation:new z({value:null,disabled:this.mode===c.view}),bloodPressure:new z({value:null,disabled:this.mode===c.view}),beatsPerMinute:new z({value:null,disabled:this.mode===c.view}),notes:new z({value:null,disabled:this.mode===c.view}),evolution:new z({value:null,disabled:this.mode===c.view}),weight:new z({value:null,disabled:this.mode===c.view}),status:new z({value:null,disabled:this.mode===c.view}),schedulingId:new z(i)}),e.mode===c.view||e.mode===c.edit){let l=q({},e.medicalAppointment);this.formGroup.patchValue(q({},l))}}submit(){let e=this.formGroup.getRawValue();e.id===null?this.medicalAppointmentService.add(e).pipe(Z(()=>this.schedulingService.finishScheduling(e.schedulingId))).subscribe(()=>this.router.navigate(["/medical-appointments"])):this.medicalAppointmentService.update(e).subscribe(()=>this.router.navigate(["/medical-appointments"]))}open(){this.visible=!0}close(){this.visible=!1}selectProtocol(e){let i=this.formGroup.controls.evolution?.value;i?this.formGroup.patchValue({evolution:`${i} 
${e.description}`}):this.formGroup.patchValue({evolution:`${e.description}`}),this.notification.blank(e.name,"Protocolo adicionado ao campo Evolu\xE7\xE3o com sucesso!",{nzDuration:5e3,nzPlacement:"topLeft"})}back(){this.mode==="edit"?this.router.navigate(["/medical-appointments"]):this.router.navigate(["/scheduling"])}getWidthScreen(){return window.innerWidth<990?window.innerWidth:375}};n.\u0275fac=function(i){return new(i||n)(f(oe),f(X),f(w),f(Ne),f(re),f(Ge))},n.\u0275cmp=N({type:n,selectors:[["ng-component"]],standalone:!0,features:[k],decls:25,vars:41,consts:[["nz-form","","nz-row","",3,"formGroup","nzGutter"],["nz-col","",3,"nzSpan",4,"ngIf"],["nz-col","",3,"nzSpan"],["nzType","horizontal"],["nz-row","",1,"scheduling-details-form",3,"nzGutter"],["nz-col","",3,"nzXs","nzLg"],["placeholder","Oxigenac\xE3o sanguinea","controlName","bloodOxygenation","type","text",3,"parentForm"],["placeholder","Press\xE3o arterial","controlName","bloodPressure","type","text",3,"parentForm"],["nz-row","",3,"nzGutter"],["placeholder","Batimentos p/ minuto","controlName","beatsPerMinute","type","text",3,"parentForm"],["placeholder","Peso","controlName","weight","type","text",3,"parentForm"],["controlName","notes","nz-col","",3,"placeholder","parentForm","nzXs","nzLg"],["controlName","evolution","nz-col","",3,"placeholder","parentForm","nzXs","nzLg"],["id","protocols-button","nz-col","",3,"nzXs","nzLg",4,"ngIf"],[3,"disabled","back","submit",4,"ngIf"],["nzPlacement","right","nzTitle","Lista de protocolos",3,"nzVisible","nzFooter","nzWidth","nzOnClose"],[4,"nzDrawerContent"],["footerTpl",""],["nzTitle","Dados do paciente"],["nzTitle","Nome"],["nzTitle","Telefone"],["nzTitle","Data de Nascimento"],["nzTitle","Data de atendimento"],["nzTitle","Atendido por"],["id","protocols-button","nz-col","",3,"nzXs","nzLg"],["label","Protocolos","icon","left",3,"click"],[3,"disabled","back","submit"],[1,"protocol-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["nz-icon","","nzType","caret-left","nzTheme","outline"],["label","Fechar",3,"click"]],template:function(i,l){if(i&1&&(a(0,"form",0),v(1,Qe,14,12,"div",1),g(2,"async"),a(3,"div",2),h(4,"nz-divider",3),a(5,"h3"),s(6,"Detalhes da consulta"),p(),a(7,"div",4)(8,"div",5),h(9,"app-input",6)(10,"app-input",7),a(11,"div",8)(12,"div",5),h(13,"app-input",9),p(),a(14,"div",5),h(15,"app-input",10),p()()(),h(16,"app-text-area",11)(17,"nz-divider",3)(18,"app-text-area",12),v(19,Ze,2,4,"div",13),p(),v(20,et,1,1,"app-back-submit-panel",14),p()(),a(21,"nz-drawer",15),C("nzOnClose",function(){return l.close()}),v(22,it,4,3,"ng-container",16),p(),v(23,nt,1,0,"ng-template",null,17,ne)),i&2){let u=A(24);m("formGroup",l.formGroup)("nzGutter",16),r(),m("ngIf",F(2,29,l.scheduling$)),r(2),m("nzSpan",24),r(4),m("nzGutter",16),r(),m("nzXs",d(31,x))("nzLg",d(32,W)),r(),m("parentForm",l.formGroup),r(),m("parentForm",l.formGroup),r(),m("nzGutter",16),r(),m("nzXs",d(33,x))("nzLg",d(34,W)),r(),m("parentForm",l.formGroup),r(),m("nzXs",d(35,x))("nzLg",d(36,W)),r(),m("parentForm",l.formGroup),r(),m("placeholder","Notas")("parentForm",l.formGroup)("nzXs",d(37,x))("nzLg",d(38,W)),r(2),m("placeholder","Evolu\xE7\xE3o")("parentForm",l.formGroup)("nzXs",d(39,x))("nzLg",d(40,ot)),r(),m("ngIf",l.mode!=="view"),r(),m("ngIf",l.mode!=="view"),r(),m("nzVisible",l.visible)("nzFooter",u)("nzWidth",l.getWidthScreen())}},dependencies:[de,ce,me,se,ze,ue,V,G,P,O,L,he,ve,fe,$,B,Fe,Me,De,Ie,_e,ke,R,j,Ae,Te,Ee],styles:["[_nghost-%COMP%]   .scheduling-details-form[_ngcontent-%COMP%]{margin-bottom:2rem}[_nghost-%COMP%]   #protocols-button[_ngcontent-%COMP%]{text-align:right}"]});let t=n;return t})();var Ve=(()=>{let n=class n{constructor(e){this.medicalAppointmentService=e}buildForm(e){let{mode:i,medicalAppointmentId:l}=e,u;switch(i){case c.create:u=K({mode:i});break;case c.edit:case c.view:u=this.buildEditForm(i,l);break;default:throw new Error(`Data mode is not recognized: ${i}`)}return u}buildEditForm(e,i){return this.medicalAppointmentService.getById(i).pipe(Y(1),Q(l=>({medicalAppointment:l,mode:e})))}};n.\u0275fac=function(i){return new(i||n)(te(w))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var U=(t,n,o=ie(Ve))=>{let e=t.data.mode;return e===c.edit||e===c.view?o.buildForm({medicalAppointmentId:t.paramMap.get("id"),mode:e}).pipe(J()):o.buildForm({mode:e}).pipe(J())};var qt=[{path:"",component:Le},{path:"edit/:id",component:H,resolve:{formData:U},data:{mode:c.edit}},{path:"view/:id",component:H,resolve:{formData:U},data:{mode:c.view}},{path:"create/:id",component:H,resolve:{formData:U},data:{mode:c.create}}];export{qt as MEDICAL_APPOINTMENTS_ROUTES};
