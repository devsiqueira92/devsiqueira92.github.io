import{a as v}from"./chunk-MQTPHQI6.js";import{a as s,b as ve}from"./chunk-6Z3TVTWB.js";import{a as he}from"./chunk-RR7K6ANC.js";import"./chunk-LYQZZQJW.js";import"./chunk-SCJC3XGD.js";import"./chunk-PMFQ2YN4.js";import{a as me,b as le,c as de,d as se,e as ce,f as ue,g as fe}from"./chunk-MARIE4FX.js";import"./chunk-Q3AMKNWT.js";import{a as ae,b as pe}from"./chunk-MKNZQFJW.js";import{$a as oe,Db as N,Ra as F,Ua as te,Wa as ie,Xa as _,Za as ne,cb as re,i as x,k as Q,l as X,o as Y,pa as Z,qa as ee}from"./chunk-DZHMID4D.js";import{A as M,q as I,r as b,x as P,y as K}from"./chunk-AOD5S737.js";import{$b as q,Ab as l,N as B,Nb as o,Ob as p,Pb as c,Qb as H,Rb as V,S as E,a as z,bc as U,ha as A,kc as W,lb as a,lc as d,ma as L,mb as u,mc as h,na as $,pc as y,qa as g,qc as O,r as j,uc as S,vc as D,w as R,wc as J,yb as f}from"./chunk-JEXKB6JL.js";function Se(i,e){if(i&1&&(o(0,"tr")(1,"td"),d(2),p(),o(3,"td"),d(4),p(),o(5,"td"),d(6),p(),o(7,"td"),d(8),p(),o(9,"td")(10,"a",6),d(11,"Edit"),p(),c(12,"nz-divider",7),o(13,"a",6),d(14,"Hist\xF3rico"),p()()()),i&2){let m=e.$implicit;a(2),h(m.name),a(2),h(m.phone),a(2),h(m.address),a(2),h(m.birthDate),a(2),l("routerLink","edit/"+m.id),a(3),l("routerLink","history/"+m.id)}}var Fe=()=>({y:"740px"}),De=()=>({x:"900px"});function Ie(i,e){if(i&1&&(H(0),o(1,"nz-table",2,3)(3,"thead")(4,"tr")(5,"th"),d(6,"Name"),p(),o(7,"th"),d(8,"Phone"),p(),o(9,"th"),d(10,"Address"),p(),o(11,"th"),d(12,"birthDate"),p(),o(13,"th",4),d(14,"Action"),p()()(),o(15,"tbody"),f(16,Se,15,6,"tr",5),p()(),V()),i&2){let m=e.ngIf,t=W(2);a(),l("nzData",m)("nzScroll",O(4,Fe))("nzScroll",O(5,De)),a(15),l("ngForOf",t.data)}}var ye=(()=>{let e=class e{constructor(t){this.patientsService=t}ngOnInit(){this.listOfData$=this.patientsService.getList()}};e.\u0275fac=function(n){return new(n||e)(u(v))},e.\u0275cmp=g({type:e,selectors:[["ng-component"]],standalone:!0,features:[y],decls:3,vars:3,consts:[["label","Novo Paciente","icon","plus","path","create"],[4,"ngIf"],[3,"nzData","nzScroll"],["basicTable",""],["nzWidth","180px"],[4,"ngFor","ngForOf"],[3,"routerLink"],["nzType","vertical"]],template:function(n,r){n&1&&(c(0,"app-link-button",0),f(1,Ie,17,6,"ng-container",1),S(2,"async")),n&2&&(a(),l("ngIf",D(2,1,r.listOfData$)))},dependencies:[M,I,b,P,Y,X,fe,se,me,le,ue,de,ce,pe,ae,N],styles:["[_nghost-%COMP%]   app-link-button[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}"]});let i=e;return i})();var be=(()=>{let e=class e{constructor(t){this.patientService=t}buildForm(t){let{mode:n,patientId:r}=t,C;switch(n){case s.create:C=j({mode:n});break;case s.edit:case s.view:C=this.buildEditForm(n,r);break;default:throw new Error(`Data mode is not recognized: ${n}`)}return C}buildEditForm(t,n){return this.patientService.getById(n).pipe(B(1),R(r=>({patient:r,mode:t})))}};e.\u0275fac=function(n){return new(n||e)(L(v))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var w=(i,e,m=$(be))=>{let t=i.data.mode;return t===s.edit||t===s.view?m.buildForm({patientId:i.paramMap.get("id"),mode:t}).pipe(E()):m.buildForm({mode:t}).pipe(E())};function Pe(i,e){if(i&1&&c(0,"app-input",7),i&2){let m=U();l("placeholder","Id")("parentForm",m.formGroup)}}var G=(()=>{let e=class e{constructor(t,n,r){this.route=t,this.patientService=n,this.router=r}ngOnInit(){let t=this.route.snapshot.data.formData;if(this.mode=this.route.snapshot.data.mode,console.log(t),this.formGroup=new ie({id:new _({value:null,disabled:this.mode===s.edit}),name:new _({value:null,disabled:!1},[F.required]),phone:new _({value:null,disabled:!1},[F.required]),address:new _({value:null,disabled:!1},[F.required]),birthDate:new _({value:null,disabled:!1},[F.required])}),t.mode===s.view||t.mode===s.edit){let n=z({},t.patient);this.formGroup.patchValue(z({},n))}}submit(){let t=this.formGroup.getRawValue();t.id===null?this.patientService.add(t):this.patientService.update(t),this.router.navigate(["/patients"])}back(){this.router.navigate(["/patients"])}};e.\u0275fac=function(n){return new(n||e)(u(x),u(v),u(Q))},e.\u0275cmp=g({type:e,selectors:[["ng-component"]],standalone:!0,features:[y],decls:7,vars:11,consts:[["nz-form","",3,"formGroup"],["controlName","id","type","text",3,"placeholder","parentForm",4,"ngIf"],["controlName","name","type","text",3,"placeholder","parentForm"],["controlName","phone","type","text",3,"placeholder","parentForm"],["controlName","address","type","text",3,"placeholder","parentForm"],["controlName","birthDate","type","text",3,"placeholder","parentForm"],[3,"disabled","submit","back"],["controlName","id","type","text",3,"placeholder","parentForm"]],template:function(n,r){n&1&&(o(0,"form",0),f(1,Pe,1,2,"app-input",1),c(2,"app-input",2)(3,"app-input",3)(4,"app-input",4)(5,"app-input",5),o(6,"app-back-submit-panel",6),q("submit",function(){return r.submit()})("back",function(){return r.back()}),p()()),n&2&&(l("formGroup",r.formGroup),a(),l("ngIf",r.mode==="edit"),a(),l("placeholder","Name")("parentForm",r.formGroup),a(),l("placeholder","Contato")("parentForm",r.formGroup),a(),l("placeholder","Endere\xE7o")("parentForm",r.formGroup),a(),l("placeholder","Data de nascimento")("parentForm",r.formGroup),a(),l("disabled",!r.formGroup.valid||(r.formGroup.controls.isSubmitting==null?null:r.formGroup.controls.isSubmitting.value)===!0))},dependencies:[re,ne,te,oe,he,b,ve]});let i=e;return i})();function Me(i,e){if(i&1&&(o(0,"div",3)(1,"div",4),c(2,"span",5),o(3,"p"),d(4),S(5,"date"),p()(),o(6,"div",4),c(7,"span",6),o(8,"p"),d(9),p()()()),i&2){let m=e.$implicit;a(4),h(J(5,2,m.date,"dd-MM-yyyy")),a(5),h(m.doctor.name)}}function xe(i,e){if(i&1&&(o(0,"div")(1,"h2"),d(2,"Hist\xF3rico de consultas do paciente"),p(),f(3,Me,10,5,"div",1),c(4,"app-link-button",2),p()),i&2){let m=e.ngIf;a(3),l("ngForOf",m)}}var _e=(()=>{let e=class e{constructor(t,n){this.route=t,this.patientService=n}ngOnInit(){let t=this.route.snapshot.params.id;this.history$=this.patientService.getScheduling(t)}};e.\u0275fac=function(n){return new(n||e)(u(x),u(v))},e.\u0275cmp=g({type:e,selectors:[["ng-component"]],standalone:!0,features:[y],decls:2,vars:3,consts:[[4,"ngIf"],["class","procedure-wrapper",4,"ngFor","ngForOf"],["path","/patients","label","Voltar","type","secondary"],[1,"procedure-wrapper"],[1,"procedure-info"],["nz-icon","","nzType","calendar","nzTheme","outline"],["nz-icon","","nzType","user","nzTheme","outline"]],template:function(n,r){n&1&&(f(0,xe,5,1,"div",0),S(1,"async")),n&2&&l("ngIf",D(1,1,r.history$))},dependencies:[M,I,b,P,K,ee,Z,N],styles:["[_nghost-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .procedure-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .procedure-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}[_nghost-%COMP%]   .procedure-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}"]});let i=e;return i})();var st=[{path:"",component:ye},{path:"edit/:id",component:G,resolve:{formData:w},data:{mode:s.edit}},{path:"create",component:G,resolve:{formData:w},data:{mode:s.create}},{path:"history/:id",component:_e}];export{st as PATIENTS_ROUTES};
