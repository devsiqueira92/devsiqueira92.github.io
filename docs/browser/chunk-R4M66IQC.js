import{a as ge}from"./chunk-3DPYIVS4.js";import{a as pe,b as me,c as de,d as se,e as le,f as ce,g as ue,h as fe,i as he}from"./chunk-3O6N67O6.js";import"./chunk-FG6AQFEN.js";import{k as l}from"./chunk-2FTG2Z6E.js";import{a as re}from"./chunk-ZNVYHAWE.js";import{a as ve}from"./chunk-QJAXG5KO.js";import{Fb as ae,Ja as S,La as ee,Ma as te,Na as b,Pa as ie,Ra as ne,Ua as oe,e as Q,i as z,k as T,l as W,o as X,oa as Y,pa as Z}from"./chunk-NZUQ4GC7.js";import{q as _,r as I,x as E,y as K,z as N}from"./chunk-S3EDYLDG.js";import{Ab as s,Mb as r,N as B,Nb as a,Ob as c,Pb as $,Qb as H,S as R,_b as q,a as k,ac as V,ha as F,jc as J,kc as d,lb as p,lc as f,ma as M,mb as u,na as L,oc as C,qa as y,r as g,sc as D,tc as P,uc as U,w as A,yb as h}from"./chunk-3JFFWWO5.js";var ye=[{id:"1",name:"Eduardo",phone:"9 99898-9898",address:"Rua 1",birthDate:"1992-03-31"},{id:"2",name:"Douglas",phone:"9 99898-9898",address:"Rua 1",birthDate:"1992-03-31"},{id:"3",name:"Jo\xE3o",phone:"9 99898-9898",address:"Rua 1",birthDate:"1992-03-31"},{id:"4",name:"Marcelo",phone:"9 99898-9898",address:"Rua 1",birthDate:"1992-03-31"}];var v=(()=>{let t=class t{constructor(e){this.httpClient=e,this.patients=ye,this.appointments=ge}getList(){return g(this.patients)}getById(e){let i=this.patients.find(o=>o.id===e);return g(i)}getAppointments(e){let i=this.appointments.filter(o=>o.patient.id===e);return g(i)}add(e){let i={patient:e};i.patient.id=(this.patients.length+1).toString(),this.patients.push(i.patient)}update(e){let i=this.patients.findIndex(o=>o.id===e.id);this.patients[i]=e}};t.\u0275fac=function(i){return new(i||t)(M(Q))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function xe(n,t){if(n&1&&(r(0,"tr")(1,"td"),d(2),a(),r(3,"td"),d(4),a(),r(5,"td"),d(6),a(),r(7,"td"),d(8),a(),r(9,"td")(10,"a",5),d(11,"Edit"),a(),c(12,"nz-divider",6),r(13,"a",5),d(14,"Hist\xF3rico"),a(),c(15,"nz-divider",6),r(16,"a"),d(17,"Delete"),a()()()),n&2){let m=t.$implicit;p(2),f(m.name),p(2),f(m.phone),p(2),f(m.address),p(2),f(m.birthDate),p(2),s("routerLink","edit/"+m.id),p(3),s("routerLink","history/"+m.id)}}function Fe(n,t){if(n&1&&($(0),r(1,"nz-table",2,3)(3,"thead")(4,"tr")(5,"th"),d(6,"Name"),a(),r(7,"th"),d(8,"Phone"),a(),r(9,"th"),d(10,"Address"),a(),r(11,"th"),d(12,"birthDate"),a(),r(13,"th"),d(14,"Action"),a()()(),r(15,"tbody"),h(16,xe,18,6,"tr",4),a()(),H()),n&2){let m=t.ngIf,e=J(2);p(),s("nzData",m),p(15),s("ngForOf",e.data)}}var Ie=(()=>{let t=class t{constructor(e){this.patientsService=e}ngOnInit(){this.listOfData$=this.patientsService.getList()}};t.\u0275fac=function(i){return new(i||t)(u(v))},t.\u0275cmp=y({type:t,selectors:[["ng-component"]],standalone:!0,features:[C],decls:3,vars:3,consts:[["label","Novo Paciente","icon","plus","path","create"],[4,"ngIf"],[3,"nzData"],["basicTable",""],[4,"ngFor","ngForOf"],[3,"routerLink"],["nzType","vertical"]],template:function(i,o){i&1&&(c(0,"app-link-button",0),h(1,Fe,17,2,"ng-container",1),D(2,"async")),i&2&&(p(),s("ngIf",P(2,1,o.listOfData$)))},dependencies:[N,_,I,E,X,W,he,ce,de,se,fe,le,ue,me,pe,ae],styles:["[_nghost-%COMP%]   app-link-button[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}"]});let n=t;return n})();var be=(()=>{let t=class t{constructor(e){this.patientService=e}buildForm(e){let{mode:i,patientId:o}=e,x;switch(i){case l.create:x=g({mode:i});break;case l.edit:case l.view:x=this.buildEditForm(i,o);break;default:throw new Error(`Data mode is not recognized: ${i}`)}return x}buildEditForm(e,i){return this.patientService.getById(i).pipe(B(1),A(o=>({patient:o,mode:e})))}};t.\u0275fac=function(i){return new(i||t)(M(v))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var j=(n,t,m=L(be))=>{let e=n.data.mode;return e===l.edit||e===l.view?m.buildForm({patientId:n.paramMap.get("id"),mode:e}).pipe(R()):m.buildForm({mode:e}).pipe(R())};function Me(n,t){if(n&1&&c(0,"app-input",7),n&2){let m=V();s("placeholder","Id")("parentForm",m.formGroup)}}var G=(()=>{let t=class t{constructor(e,i,o){this.route=e,this.patientService=i,this.router=o}ngOnInit(){let e=this.route.snapshot.data.formData;if(this.mode=this.route.snapshot.data.mode,console.log(e),this.formGroup=new te({id:new b({value:null,disabled:this.mode===l.edit}),name:new b({value:null,disabled:!1},[S.required]),phone:new b({value:null,disabled:!1},[S.required]),address:new b({value:null,disabled:!1},[S.required]),birthDate:new b({value:null,disabled:!1},[S.required])}),e.mode===l.view||e.mode===l.edit){let i=k({},e.patient);this.formGroup.patchValue(k({},i))}}submit(){let e=this.formGroup.getRawValue();e.id===null?this.patientService.add(e):this.patientService.update(e),this.router.navigate(["/patients"])}};t.\u0275fac=function(i){return new(i||t)(u(z),u(v),u(T))},t.\u0275cmp=y({type:t,selectors:[["ng-component"]],standalone:!0,features:[C],decls:7,vars:10,consts:[["nz-form","",3,"formGroup"],["controlName","id","type","text",3,"placeholder","parentForm",4,"ngIf"],["controlName","name","type","text",3,"placeholder","parentForm"],["controlName","phone","type","text",3,"placeholder","parentForm"],["controlName","address","type","text",3,"placeholder","parentForm"],["controlName","birthDate","type","text",3,"placeholder","parentForm"],["label","Adicionar","icon","plus",3,"click"],["controlName","id","type","text",3,"placeholder","parentForm"]],template:function(i,o){i&1&&(r(0,"form",0),h(1,Me,1,2,"app-input",1),c(2,"app-input",2)(3,"app-input",3)(4,"app-input",4)(5,"app-input",5),r(6,"app-button",6),q("click",function(){return o.submit()}),a()()),i&2&&(s("formGroup",o.formGroup),p(),s("ngIf",o.mode==="edit"),p(),s("placeholder","Name")("parentForm",o.formGroup),p(),s("placeholder","Contato")("parentForm",o.formGroup),p(),s("placeholder","Endere\xE7o")("parentForm",o.formGroup),p(),s("placeholder","Data de nascimento")("parentForm",o.formGroup))},dependencies:[oe,ie,ee,ne,ve,re,I]});let n=t;return n})();function Pe(n,t){if(n&1&&(r(0,"div",2)(1,"div",3),c(2,"span",4),r(3,"h3"),d(4),a()(),r(5,"div",3),c(6,"span",5),r(7,"p"),d(8),D(9,"date"),a()(),r(10,"div",3),c(11,"span",6),r(12,"p"),d(13),a()()()),n&2){let m=t.$implicit;p(4),f(m.procedure.name),p(4),f(U(9,3,m.date,"dd-MM-yyyy")),p(5),f(m.doctor.name)}}function _e(n,t){if(n&1&&(r(0,"div")(1,"h2"),d(2,"Hist\xF3rico de consultas do paciente"),a(),h(3,Pe,14,6,"div",1),a()),n&2){let m=t.ngIf;p(3),s("ngForOf",m)}}var De=(()=>{let t=class t{constructor(e,i,o){this.route=e,this.patientService=i,this.router=o}ngOnInit(){let e=this.route.snapshot.params.id;console.log(e),this.history$=this.patientService.getAppointments(e)}};t.\u0275fac=function(i){return new(i||t)(u(z),u(v),u(T))},t.\u0275cmp=y({type:t,selectors:[["ng-component"]],standalone:!0,features:[C],decls:2,vars:3,consts:[[4,"ngIf"],["class","procedure-wrapper",4,"ngFor","ngForOf"],[1,"procedure-wrapper"],[1,"procedure-info"],["nz-icon","","nzType","info-circle","nzTheme","outline"],["nz-icon","","nzType","calendar","nzTheme","outline"],["nz-icon","","nzType","user","nzTheme","outline"]],template:function(i,o){i&1&&(h(0,_e,4,1,"div",0),D(1,"async")),i&2&&s("ngIf",P(1,1,o.history$))},dependencies:[N,_,I,E,K,Z,Y],styles:["[_nghost-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .procedure-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .procedure-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}[_nghost-%COMP%]   .procedure-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}"]});let n=t;return n})();var ut=[{path:"",component:Ie},{path:"edit/:id",component:G,resolve:{formData:j},data:{mode:l.edit}},{path:"create",component:G,resolve:{formData:j},data:{mode:l.create}},{path:"history/:id",component:De}];export{ut as PATIENTS_ROUTES};
