import{a as f}from"./chunk-R73QHXVA.js";import{a as n,b as ce}from"./chunk-6Z3TVTWB.js";import{a as de}from"./chunk-RR7K6ANC.js";import"./chunk-LYQZZQJW.js";import"./chunk-SCJC3XGD.js";import{a as re,b as oe,c as ie,d as ne,e as ae,f as pe,g as me}from"./chunk-MARIE4FX.js";import"./chunk-Q3AMKNWT.js";import{a as ee,b as te}from"./chunk-MKNZQFJW.js";import{$a as X,Db as Z,Ra as D,Ua as J,Wa as K,Xa as b,Za as Q,cb as Y,i as A,k as U,l as W,o as H}from"./chunk-DZHMID4D.js";import{A as q,q as V,r as S,x as $}from"./chunk-AOD5S737.js";import{$b as R,Ab as p,N as P,Nb as m,Ob as d,Pb as u,Qb as M,Rb as w,S as _,a as F,bc as O,ha as E,kc as j,lb as a,lc as l,ma as T,mb as s,mc as C,na as G,pc as y,qa as g,qc as I,r as k,uc as B,vc as L,w as x,yb as h}from"./chunk-JEXKB6JL.js";function he(r,t){if(r&1&&(m(0,"tr")(1,"td"),l(2),d(),m(3,"td"),l(4),d(),m(5,"td")(6,"a",6),l(7,"Edit"),d(),u(8,"nz-divider",7),m(9,"a"),l(10,"Delete"),d()()()),r&2){let c=t.$implicit;a(2),C(c.name),a(2),C(c.steps),a(2),p("routerLink","edit/"+c.id)}}var be=()=>({y:"740px"}),ge=()=>({x:"900px"});function ye(r,t){if(r&1&&(M(0),m(1,"nz-table",2,3)(3,"thead")(4,"tr")(5,"th"),l(6,"Name"),d(),m(7,"th"),l(8,"Passos"),d(),m(9,"th",4),l(10,"Action"),d()()(),m(11,"tbody"),h(12,he,11,3,"tr",5),d()(),w()),r&2){let c=t.ngIf,e=j(2);a(),p("nzData",c)("nzScroll",I(4,be))("nzScroll",I(5,ge)),a(11),p("ngForOf",e.data)}}var ue=(()=>{let t=class t{constructor(e){this.proceduresService=e}ngOnInit(){this.listOfData$=this.proceduresService.getList()}};t.\u0275fac=function(o){return new(o||t)(s(f))},t.\u0275cmp=g({type:t,selectors:[["ng-component"]],standalone:!0,features:[y],decls:3,vars:3,consts:[["label","Novo Procedimento","icon","plus","path","create"],[4,"ngIf"],[3,"nzData","nzScroll"],["basicTable",""],["nzWidth","120px"],[4,"ngFor","ngForOf"],[3,"routerLink"],["nzType","vertical"]],template:function(o,i){o&1&&(u(0,"app-link-button",0),h(1,ye,13,6,"ng-container",1),B(2,"async")),o&2&&(a(),p("ngIf",L(2,1,i.listOfData$)))},dependencies:[q,V,S,$,H,W,me,ne,re,oe,pe,ie,ae,te,ee,Z]});let r=t;return r})();function Se(r,t){if(r&1&&u(0,"app-input",6),r&2){let c=O();p("placeholder","Id")("parentForm",c.formGroup)}}var N=(()=>{let t=class t{constructor(e,o,i){this.route=e,this.procedureService=o,this.router=i}ngOnInit(){let e=this.route.snapshot.data.formData;if(this.mode=this.route.snapshot.data.mode,console.log(e),this.formGroup=new K({id:new b({value:null,disabled:this.mode===n.edit}),name:new b({value:null,disabled:!1},[D.required]),steps:new b({value:null,disabled:!1},[D.required]),member:new b({value:null,disabled:!1},[D.required])}),e.mode===n.view||e.mode===n.edit){let o=F({},e.procedure);this.formGroup.patchValue(F({},o))}}submit(){let e=this.formGroup.getRawValue();e.id===null?this.procedureService.add(e):this.procedureService.update(e),this.router.navigate(["/procedures"])}back(){this.router.navigate(["/procedures"])}};t.\u0275fac=function(o){return new(o||t)(s(A),s(f),s(U))},t.\u0275cmp=g({type:t,selectors:[["app-procedure-details"]],standalone:!0,features:[y],decls:6,vars:9,consts:[["nz-form","",3,"formGroup"],["controlName","id","type","text",3,"placeholder","parentForm",4,"ngIf"],["controlName","name","type","text",3,"placeholder","parentForm"],["controlName","member","type","text",3,"placeholder","parentForm"],["controlName","steps","type","text",3,"placeholder","parentForm"],[3,"disabled","submit","back"],["controlName","id","type","text",3,"placeholder","parentForm"]],template:function(o,i){o&1&&(m(0,"form",0),h(1,Se,1,2,"app-input",1),u(2,"app-input",2)(3,"app-input",3)(4,"app-input",4),m(5,"app-back-submit-panel",5),R("submit",function(){return i.submit()})("back",function(){return i.back()}),d()()),o&2&&(p("formGroup",i.formGroup),a(),p("ngIf",i.mode==="edit"),a(),p("placeholder","Name")("parentForm",i.formGroup),a(),p("placeholder","Membro")("parentForm",i.formGroup),a(),p("placeholder","Passo")("parentForm",i.formGroup),a(),p("disabled",!i.formGroup.valid||(i.formGroup.controls.isSubmitting==null?null:i.formGroup.controls.isSubmitting.value)===!0))},dependencies:[Y,Q,J,X,de,S,ce]});let r=t;return r})();var fe=(()=>{let t=class t{constructor(e){this.procedureService=e}buildForm(e){let{mode:o,procedureId:i}=e,v;switch(o){case n.create:v=k({mode:o});break;case n.edit:case n.view:v=this.buildEditForm(o,i);break;default:throw new Error(`Data mode is not recognized: ${o}`)}return v}buildEditForm(e,o){return this.procedureService.getById(o).pipe(P(1),x(i=>({procedure:i,mode:e})))}};t.\u0275fac=function(o){return new(o||t)(T(f))},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var z=(r,t,c=G(fe))=>{let e=r.data.mode;return e===n.edit||e===n.view?c.buildForm({procedureId:r.paramMap.get("id"),mode:e}).pipe(_()):c.buildForm({mode:e}).pipe(_())};var Ye=[{path:"",component:ue},{path:"edit/:id",component:N,resolve:{formData:z},data:{mode:n.edit}},{path:"create",component:N,resolve:{formData:z},data:{mode:n.create}}];export{Ye as PROCEDURES_ROUTES};
